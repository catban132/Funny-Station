# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 2025 pheenty <fedorlukin2006@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: BaseStructure
  id: BaseAutosurgeon
  description: A single-use autosurgeon for replacing or upgrading your parts with cybernetic implants. Rip that station apart and make it a part of you.
  abstract: true
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Devices/autosurgeon.rsi
    state: icon
    noRot: true
  - type: Item
    size: Huge
  - type: ItemToggle
    onUse: false
  - type: DoAfter
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,-0.4,0.4,0.05"
        density: 190
        mask:
        - TableMask
  - type: Strap
    position: Down
    rotation: -90
    buckleOffset: 0.05,-0.15
  - type: Transform
    anchored: false
    noRot: true
  - type: Anchorable
  - type: Pullable
  - type: AutoSurgeon

- type: entity
  parent: [BaseAutosurgeon, BaseSyndicateContraband]
  id: BaseAutosurgeonSyndicate
  abstract: true
  components:
  - type: Sprite
    state: icon-syndie

# CREW (currently not used, use for testing purposes admeme etc.)

- type: entity
  parent: BaseAutosurgeon
  id: AutosurgeonRightSpeedLeg
  name: autosurgeon (right S.P.E.E.D leg)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: Torso
      newOrganProto: OrganSpeedLegRight

- type: entity
  parent: BaseAutosurgeon
  id: AutosurgeonLeftSpeedLeg
  name: autosurgeon (left S.P.E.E.D leg)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: Torso
      newOrganProto: OrganSpeedLegLeft

# SYNDICATE

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonRightMantisBlade
  name: syndicate autosurgeon (right mantis blade)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: ArmRight
      partComponents:
      - type: MantisBladeArm
        actionProto: ActionToggleRightMantisBlade
      - type: Cybernetics # Disable on EMP

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonLeftMantisBlade
  name: syndicate autosurgeon (left mantis blade)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: ArmLeft
      partComponents:
      - type: MantisBladeArm
        actionProto: ActionToggleLeftMantisBlade
      - type: Cybernetics # Disable on EMP

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonSandevistan
  name: syndicate autosurgeon (sandevistan)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: Heart
      newOrganProto: OrganHeartSandevistan

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonSmartLink
  name: syndicate autosurgeon (smartlink arms)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: HandRight
      newOrganProto: SmartlinkRightHand
    - targetCategory: HandLeft
      newOrganProto: SmartlinkLeftHand

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonRecoilAbsorber
  name: syndicate autosurgeon (recoil absorbing arms)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: ArmRight
      newOrganProto: RecoilAbsorberRightHand
    - targetCategory: ArmLeft
      newOrganProto: RecoilAbsorberLeftHand

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonBerserker
  name: syndicate autosurgeon (berserker heart)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: Heart
      newOrganProto: SyndicateBerserkerHeart

- type: entity
  parent: BaseAutosurgeonSyndicate
  id: AutosurgeonJumpstarter
  name: syndicate autosurgeon (jumpstarter heart)
  components:
  - type: AutoSurgeon
    entries:
    - targetCategory: Heart
      newOrganProto: SyndicateJumpstarterHeart
